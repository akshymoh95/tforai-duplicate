(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4430:function(e,t,l){Promise.resolve().then(l.bind(l,7474))},7474:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return f}});var a=l(7437),i=l(2265),n=l(2892),s=l(5775);let r=l.n(s)()(()=>Promise.all([l.e(934),l.e(996)]).then(l.bind(l,3161)),{loadableGenerated:{webpack:()=>[3161]},ssr:!1});function o(e){var t,l;let{chart:i,title:n}=e,s=!!(i&&Array.isArray(i.data)&&i.layout),o="rgba(15, 23, 42, 0.12)",d="rgba(15, 23, 42, 0.2)";return(0,a.jsx)("div",{className:"p-4 rounded-2xl bg-white/50 border border-white/80 backdrop-blur-sm w-full h-full overflow-hidden",children:s?(0,a.jsx)(r,{data:null==i?void 0:i.data,layout:{...null==i?void 0:i.layout,autosize:!0,paper_bgcolor:"rgba(255,255,255,0.5)",plot_bgcolor:"rgba(255,255,255,0)",font:{family:"var(--font-body), sans-serif",color:"#0f172a",size:12},xaxis:{...(null==i?void 0:null===(t=i.layout)||void 0===t?void 0:t.xaxis)||{},gridcolor:o,zerolinecolor:d,automargin:!0},yaxis:{...(null==i?void 0:null===(l=i.layout)||void 0===l?void 0:l.yaxis)||{},gridcolor:o,zerolinecolor:d,automargin:!0},margin:{l:80,r:80,t:60,b:80}},config:{displayModeBar:!1,responsive:!0,staticPlot:!1},style:{width:"100%",height:"100%",minHeight:360},useResizeHandler:!0}):null})}function d(e){let{label:t,value:l,unit:i}=e;return(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.03,y:-1},className:"relative rounded-lg bg-gradient-to-br from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 px-4 py-2 overflow-hidden group transition-all duration-300 shadow-md hover:shadow-lg border border-blue-500/30",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/15 to-white/0 group-hover:from-white/5 group-hover:via-white/20 group-hover:to-white/5 transition-all duration-500 pointer-events-none"}),(0,a.jsx)(n.E.div,{initial:{scaleX:0},whileHover:{scaleX:1},transition:{duration:.3},className:"absolute top-0 left-0 h-0.5 w-full bg-gradient-to-r from-blue-300 to-cyan-300 origin-left"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsx)("p",{className:"text-xs font-bold tracking-wider text-blue-100 uppercase opacity-85 mb-1",children:t}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"font-display text-lg font-bold text-white flex items-baseline gap-1",children:[(0,a.jsx)(n.E.span,{initial:{scale:.8},animate:{scale:1},transition:{duration:.4,delay:.2,type:"spring",stiffness:100},children:"number"==typeof l?l.toFixed(2):l}),i&&(0,a.jsx)("span",{className:"text-xs font-semibold text-blue-200",children:i})]})]})]})}function c(e){let{rows:t,variant:l="card",showTitle:i=!0}=e;if(!t||0===t.length)return(0,a.jsx)("div",{className:"rounded-xl border border-white/50 bg-white/30 p-4",children:(0,a.jsx)("p",{className:"text-sm text-slate-600",children:"No data available"})});let n=Object.keys(t[0]||{});return(0,a.jsx)("div",{className:"rounded-xl border border-white/50 ".concat("card"===l?"bg-white/50":"bg-white/30"," overflow-hidden"),children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{className:"border-b border-white/50 bg-white/40",children:n.map(e=>(0,a.jsx)("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-700",children:e},e))})}),(0,a.jsx)("tbody",{children:t.map((e,t)=>(0,a.jsx)("tr",{className:"border-b border-white/30 hover:bg-white/40 transition-colors",children:n.map(t=>{let l=e[t];return l="number"==typeof l?Number.isInteger(l)?l.toString():parseFloat(l.toFixed(2)).toString():String(null!=l?l:""),(0,a.jsx)("td",{className:"px-4 py-2 text-slate-700",children:l},t)})},t))})]})})})}function u(e){let t;let l=[],i=0,n=/\*\*([^*]+)\*\*[:]*|\*([^*]+)\*|`([^`]+)`/g;for(;null!==(t=n.exec(e));){if(t.index>i&&l.push(e.slice(i,t.index)),t[1]){let e=t[1],i=t[0].endsWith(":");l.push((0,a.jsx)("strong",{className:"font-semibold text-slate-900",children:e},"bold-".concat(t.index))),i&&l.push(":")}else t[2]?l.push((0,a.jsx)("em",{className:"italic text-slate-700",children:t[2]},"em-".concat(t.index))):t[3]&&l.push((0,a.jsx)("code",{className:"bg-slate-100 text-slate-800 px-1.5 py-0.5 rounded text-xs font-mono",children:t[3]},"code-".concat(t.index)));i=n.lastIndex}return i<e.length&&l.push(e.slice(i)),l.length>0?l:[e]}function m(e){let t,{content:l}=e,i=(t=(l||"").replace(/\r\n/g,"\n").trim())?t=t.replace(/\n{3,}/g,"\n\n"):"",n=i?i.split(/\n{2,}/).filter(Boolean):[];return i?(0,a.jsx)("div",{className:"text-slate-700 text-sm leading-relaxed",children:n.map((e,t)=>{let l=e.trim(),i=/^#{2,3}\s/.test(l),n=/^-\s/.test(l),s=/^\d+\.\s/.test(l);if(i){let e=l.split("\n"),i=e[0],n=e.slice(1).join("\n").trim(),s=i.replace(/^#{2,3}\s+/,"").trim();return(0,a.jsxs)("div",{className:0===t?"":"mt-6",children:[0!==t?(0,a.jsx)("div",{className:"h-px bg-blue-200/60 mb-3"}):null,(0,a.jsx)("h3",{className:"text-base font-semibold text-blue-900",children:s}),n&&(0,a.jsx)("div",{className:"mt-2",children:n.split(/\n(?=[-\d*]|\S)/).map((e,t)=>{let l=e.trim();if(!l)return null;if(l.match(/^-\s/)){let e=l.split("\n");return(0,a.jsx)("ul",{className:"mt-2 ml-4 space-y-2 list-disc",children:e.map((t,l)=>{let i=t.trim();if(!i)return null;if(i.match(/^-\s/)){let t=i.replace(/^-\s+/,""),n=[];for(let t=l+1;t<e.length;t++){let l=e[t];if(l.match(/^\s+/)&&!l.trim().match(/^-\s/))n.push(l.trim());else break}return(0,a.jsxs)("li",{className:"text-slate-700",children:[u(t),n.length>0&&(0,a.jsx)("ol",{className:"mt-1 ml-4 space-y-1 list-decimal",children:n.map((e,t)=>(0,a.jsx)("li",{className:"text-slate-700 text-sm",children:u(e.replace(/^\d+\.\s+/,""))},t))})]},l)}return null}).filter(Boolean)},"ul-".concat(t))}if(l.match(/^\d+\.\s/)){let e=l.split("\n").filter(e=>e.trim().match(/^\d+\.\s/));if(e.length>0)return(0,a.jsx)("ol",{className:"mt-2 ml-4 space-y-1 list-decimal",children:e.map((e,t)=>(0,a.jsx)("li",{className:"text-slate-700",children:u(e.replace(/^\d+\.\s+/,""))},t))},"ol-".concat(t))}return(0,a.jsx)("p",{className:"mt-2 text-slate-700 leading-relaxed",children:u(l)},"p-".concat(t))}).filter(Boolean)})]},"h-".concat(t))}if(n){let e=l.split("\n").filter(e=>e.trim().startsWith("- "));return(0,a.jsx)("ul",{className:"mt-3 ml-5 space-y-2 list-disc",children:e.map((e,t)=>(0,a.jsx)("li",{children:u(e.replace(/^- /,"").trim())},"uli-".concat(t)))},"ul-".concat(t))}if(s){let e=l.split("\n").filter(e=>/^\d+\.\s/.test(e.trim()));return(0,a.jsx)("ol",{className:"mt-3 ml-5 space-y-2 list-decimal",children:e.map((e,t)=>(0,a.jsx)("li",{children:u(e.replace(/^\d+\.\s+/,"").trim())},"oli-".concat(t)))},"ol-".concat(t))}return(0,a.jsx)("p",{className:0===t?"mt-2":"mt-3",children:u(l)},"p-".concat(t))})}):(0,a.jsx)("p",{className:"text-slate-500",children:"Ask a question to generate insights."})}let x=["How should RM time and meeting types be allocated to maximize profitability?","declining mandates and why","compare revenue and sentiment by RM in 2024 - based on meeting notes sentiment and revenue generated by RM that year","Top 5 RMs in 2025 vs 2024 by performance"],h=["Planning","Fetching","Linking","Summarizing"],p=["provisioning","initializing"],b={provisioning:"Provisioning Engine",initializing:"Initializing Data Index"};function f(){let[e,t]=(0,i.useState)(""),[l,s]=(0,i.useState)(null),[r,u]=(0,i.useState)(!1),[f,y]=(0,i.useState)(null),[g,v]=(0,i.useState)(""),[w,j]=(0,i.useState)("planning"),[N,k]=(0,i.useState)({type:null}),[E,P]=(0,i.useState)(33),[z,C]=(0,i.useState)(33),[S,_]=(0,i.useState)(null),[O,L]=(0,i.useState)("summary"),[M,W]=(0,i.useState)(null),I=(0,i.useMemo)(()=>"https://api.tulapi.ai",[]);async function R(t){let l=(null!=t?t:e).trim();if(l){u(!0),y(null),s(null),j("planning");try{let e=await fetch("".concat(I,"/api/ask"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:l})});if(!e.ok){let t=await e.text();throw Error(t||"Request failed")}let t=await e.json();console.log("API Response:",t),s(t)}catch(e){console.error("API Error:",e),y((null==e?void 0:e.message)||"Something went wrong")}finally{u(!1)}}}(0,i.useEffect)(()=>{(null==l?void 0:l.frames)?v(Object.keys(l.frames)[0]||""):v("")},[l]),(0,i.useEffect)(()=>{if(!r){j("planning"),W(null);return}let e=setInterval(async()=>{try{let e=await fetch("".concat(I,"/api/stages"));if(e.ok){let t=(await e.json()).stage||"planning";j(t),p.includes(t.toLowerCase())?W(t):W(null)}}catch(e){}},200);return()=>clearInterval(e)},[r,I]),(0,i.useEffect)(()=>{if(!S)return;let e=e=>{let t=document.getElementById("results-container");if(!t)return;let l=t.getBoundingClientRect(),a=(e.clientX-l.left)/l.width*100;if("left-center"===S&&a>20&&a<50)P(a);else if("center-right"===S){let t=(l.right-e.clientX)/l.width*100;t>20&&t<50&&C(t)}},t=()=>{_(null)};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}},[S]),(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&N.type&&k({type:null})};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[N]),(0,i.useEffect)(()=>{let e=e=>{let t=document.querySelector('[class*="from-blue-600"]');if(t){let l=t.getBoundingClientRect(),a=(e.clientX-l.left)/l.width*100,i=(e.clientY-l.top)/l.height*100;t.style.setProperty("--mouse-x","".concat(a,"%")),t.style.setProperty("--mouse-y","".concat(i,"%"))}};return document.addEventListener("mousemove",e),()=>document.removeEventListener("mousemove",e)},[]);let T=(null==l?void 0:l.frames)||{},A=Object.keys(T),H=g?T[g]||[]:(null==l?void 0:l.rows)||[],B=((null==l?void 0:l.kpis)||[]).map(e=>({label:e.label||e.title||"",value:e.value,unit:e.unit||e.sub||""})),q=((null==l?void 0:l.insights)||(null==l?void 0:l.narrative)||"").trim();return(0,a.jsxs)("div",{className:"relative h-screen flex flex-col bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute -top-40 -left-40 w-96 h-96 opacity-20 blur-3xl",style:{background:"radial-gradient(circle, #0a37c4 0%, transparent 70%)"}}),(0,a.jsx)("div",{className:"absolute -bottom-20 -right-32 w-96 h-96 opacity-15 blur-3xl",style:{background:"radial-gradient(circle, #1d4ed8 0%, transparent 70%)"}}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative z-10 backdrop-blur-md bg-gradient-to-r from-blue-600 via-blue-700 to-blue-600 shadow-2xl overflow-hidden group",style:{clipPath:"polygon(0 0, 100% 0, 100% calc(100% - 12px), 0 100%)"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-cyan-400/30 via-transparent to-blue-400/20 opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),(0,a.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-30 transition-opacity duration-500 pointer-events-none",style:{background:"radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255,255,255,0.4) 0%, transparent 60%)"}}),(0,a.jsx)(n.E.div,{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-cyan-300 via-blue-300 to-transparent",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.8,delay:.2},style:{width:"100%",transformOrigin:"left"}}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-8 py-8 relative z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex flex-col gap-1",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-300 to-blue-400 flex items-center justify-center shadow-lg",children:(0,a.jsx)("span",{className:"text-lg font-bold text-blue-900",children:"â—†"})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("h1",{className:"text-4xl font-display font-bold text-white drop-shadow-lg tracking-tight",children:"AI Analyst"}),(0,a.jsx)("p",{className:"text-xs font-semibold text-cyan-100 tracking-widest uppercase",children:"Intelligence Platform"})]})]})}),(0,a.jsxs)(n.E.div,{className:"text-right",initial:{opacity:0,x:10},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-100",children:"Powered by RAI"}),(0,a.jsx)(n.E.div,{className:"h-0.5 bg-gradient-to-r from-transparent via-cyan-300 to-transparent mt-2",animate:{scaleX:[0,1,0]},transition:{duration:2.5,repeat:1/0},style:{transformOrigin:"center"}})]})]})})]}),(0,a.jsxs)("div",{className:"relative z-10 overflow-hidden flex-1 flex flex-col",children:[l?(0,a.jsxs)("div",{id:"results-container",className:"h-full flex flex-col md:flex-row gap-0 overflow-hidden relative w-full",children:[(0,a.jsx)("div",{className:"md:hidden flex border-b border-white/40 bg-white/30 backdrop-blur-sm",children:[{tab:"data",label:"KPI & Data"},{tab:"summary",label:"Summary"},{tab:"chart",label:"Chart"}].map(e=>(0,a.jsx)(n.E.button,{onClick:()=>L(e.tab),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 px-4 py-3 text-sm font-semibold transition-all ".concat(O===e.tab?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"),children:e.label},e.tab))}),(0,a.jsx)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},style:{width:window.innerWidth<768?"100%":window.innerWidth<1024?"50%":"".concat(E,"%"),maxHeight:"100%",display:window.innerWidth<768&&"data"!==O?"none":"flex"},className:"overflow-y-auto border-r border-white/40 border-b md:border-b-0 flex flex-col",children:(0,a.jsxs)("div",{className:"px-6 py-4 space-y-4 flex-1",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[(0,a.jsx)("p",{className:"text-xs font-semibold tracking-widest text-slate-500 uppercase mb-4",children:"Metrics"}),(0,a.jsx)("div",{className:"space-y-3",children:B.length?B.map((e,t)=>(0,a.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15+.08*t},children:(0,a.jsx)(d,{label:e.label||"",value:e.value,unit:e.unit})},"".concat(e.label,"-").concat(t))):(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No metrics"})})]}),A.length>0&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex flex-col",children:[(0,a.jsx)("label",{className:"block text-xs font-semibold tracking-widest text-slate-500 uppercase mb-3",children:"Dataset"}),(0,a.jsx)("select",{value:g,onChange:e=>v(e.target.value),className:"w-full px-3 py-2 rounded-lg border border-white/50 bg-white/40 text-sm font-medium mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500",children:A.map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),H.length>0&&(0,a.jsxs)("div",{className:"flex-1 overflow-hidden bg-white/40 rounded-lg border border-white/50 min-h-64 relative group",children:[(0,a.jsx)("div",{className:"h-64 overflow-y-auto",children:(0,a.jsx)(c,{rows:H||[],variant:"flat",showTitle:!1})}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k({type:"dataset"}),className:"absolute top-2 right-2 bg-blue-500/80 hover:bg-blue-600 text-white px-3 py-1 text-xs font-semibold rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Expand"})]})]})]})}),(0,a.jsx)("div",{onMouseDown:()=>_("left-center"),className:"hidden md:block w-1 bg-gradient-to-b from-transparent via-white/10 to-transparent hover:bg-gradient-to-b hover:from-blue-400/30 hover:via-blue-500/60 hover:to-blue-400/30 cursor-col-resize transition-all duration-200 hover:shadow-lg ".concat("left-center"===S?"bg-gradient-to-b from-blue-400/40 via-blue-500/80 to-blue-400/40 shadow-lg":"")}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},style:{flex:(window.innerWidth,1),width:window.innerWidth<768?"100%":window.innerWidth<1024?"50%":"auto",maxHeight:(window.innerWidth,"100%"),display:window.innerWidth<768&&"summary"!==O?"none":"flex"},className:"overflow-y-auto border-r border-white/40 border-b md:border-b-0 flex flex-col bg-gradient-to-br from-white/50 to-blue-50/30",children:(0,a.jsx)("div",{className:"px-6 py-4 flex-1 overflow-y-auto",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"h-full",children:[(0,a.jsx)("p",{className:"text-xs font-semibold tracking-widest text-slate-500 uppercase mb-4 sticky top-0",children:"Summary"}),(0,a.jsx)(m,{content:q})]})})}),(0,a.jsx)("div",{onMouseDown:()=>_("center-right"),className:"hidden lg:block w-1 bg-gradient-to-b from-transparent via-white/10 to-transparent hover:bg-gradient-to-b hover:from-blue-400/30 hover:via-blue-500/60 hover:to-blue-400/30 cursor-col-resize transition-all duration-200 hover:shadow-lg ".concat("center-right"===S?"bg-gradient-to-b from-blue-400/40 via-blue-500/80 to-blue-400/40 shadow-lg":"")}),(0,a.jsx)(n.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},style:{width:window.innerWidth<1024?"100%":"".concat(z,"%"),minWidth:0,maxHeight:"100%",display:window.innerWidth<768&&"chart"!==O?"none":"flex"},className:"overflow-y-auto relative group flex flex-col",children:(0,a.jsx)("div",{className:"px-6 py-4 flex-1 flex flex-col",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"flex-1 flex flex-col",children:[(0,a.jsx)("p",{className:"text-xs font-semibold tracking-widest text-slate-500 uppercase mb-4",children:"Visualization"}),(null==l?void 0:l.chart)&&Array.isArray(l.chart.data)&&l.chart.layout?(0,a.jsxs)("div",{className:"relative flex-1 flex flex-col",children:[(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)(o,{chart:l.chart,title:""})}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k({type:"chart"}),className:"absolute top-8 right-4 bg-blue-500/80 hover:bg-blue-600 text-white px-3 py-1 text-xs font-semibold rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Fullscreen"})]}):(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center bg-white/40 rounded-lg border border-white/50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-slate-500 text-sm mb-2",children:"Chart visualization in progress"}),(0,a.jsx)("p",{className:"text-slate-400 text-xs",children:"LLM is generating your chart..."})]})})]})})}),"dataset"===N.type&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>k({type:null}),className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100]",children:(0,a.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"w-11/12 h-5/6 bg-white/95 backdrop-blur-sm rounded-2xl border border-white/80 shadow-2xl flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/40",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-slate-900",children:["Dataset - ",g]}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k({type:null}),className:"text-slate-500 hover:text-slate-700 text-2xl font-light",children:"\xd7"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:(0,a.jsx)(c,{rows:H||[],variant:"flat",showTitle:!1})})]})}),"chart"===N.type&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>k({type:null}),className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[100]",children:(0,a.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"w-11/12 h-5/6 bg-white/95 backdrop-blur-sm rounded-2xl border border-white/80 shadow-2xl flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/40",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Visualization"}),(0,a.jsx)(n.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>k({type:null}),className:"text-slate-500 hover:text-slate-700 text-2xl font-light",children:"\xd7"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden p-6 flex items-center justify-center",children:(null==l?void 0:l.chart)&&Object.keys(l.chart).length>0?(0,a.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,a.jsx)(o,{chart:l.chart,title:""})}):null})]})})]}):(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-center px-6 py-8 min-h-0",children:(0,a.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("h2",{className:"text-4xl font-display font-bold text-slate-900 mb-2",children:"What would you like to analyze?"}),(0,a.jsx)("p",{className:"text-lg text-slate-600",children:"Ask questions about performance, revenue, sentiment, and more."})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-2 mb-4",children:x.map(e=>(0,a.jsx)(n.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{t(e),R(e)},className:"text-left p-3 rounded-xl bg-white/60 hover:bg-white border border-white/80 text-slate-700 font-medium transition-all hover:shadow-lg",children:e},e))}),f&&(0,a.jsx)("div",{className:"mb-4 p-4 rounded-lg bg-red-50 border border-red-200",children:(0,a.jsx)("p",{className:"text-sm text-red-700",children:f})})]})}),M&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[150]",children:(0,a.jsx)(n.E.div,{initial:{scale:.9,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:10},transition:{type:"spring",damping:20,stiffness:300},className:"bg-white rounded-2xl shadow-2xl p-8 max-w-sm w-full mx-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-6 flex justify-center",children:(0,a.jsx)(n.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-12 h-12 border-4 border-blue-200 border-t-blue-600 rounded-full"})}),(0,a.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:b[M.toLowerCase()]||M}),(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-6",children:"This may take a moment. Please be patient..."}),(0,a.jsx)("div",{className:"w-full bg-slate-200 rounded-full h-1.5 overflow-hidden",children:(0,a.jsx)(n.E.div,{animate:{x:["-100%","100%"]},transition:{duration:1.5,repeat:1/0},className:"h-full bg-gradient-to-r from-transparent via-blue-500 to-transparent w-1/4"})})]})})}),r&&!M&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/10 backdrop-blur-sm flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-6",children:[(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-2",children:"Working"}),(0,a.jsx)("p",{className:"text-slate-800 font-medium mb-6",children:e||"Processing your question..."}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:h.map(e=>{let t={planning:"planning",fetching:"fetching",linking:"linking",summarizing:"summarizing"}[e.toLowerCase()]===w.toLowerCase();return(0,a.jsx)(n.E.span,{animate:{scale:t?1.1:1,backgroundColor:t?"#0a37c4":"#f1f5f9"},className:"px-3 py-1 text-xs font-medium rounded-full text-slate-600 transition-colors",style:{color:t?"white":"#64748b"},children:e},e)})})]})})]}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"relative z-20 m-4 rounded-full bg-gradient-to-r from-white/95 to-white/90 backdrop-blur-md border border-white/90 shadow-2xl hover:shadow-blue-400/20 hover:border-white transition-all",children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),R()},className:"flex items-center gap-3 px-6 py-3.5",children:[(0,a.jsx)("input",{type:"text",placeholder:"Ask a question...",value:e,onChange:e=>t(e.target.value),className:"flex-1 bg-transparent text-slate-800 placeholder:text-slate-400 focus:outline-none text-sm font-medium",disabled:r}),(0,a.jsx)("button",{type:"submit",disabled:r||!e.trim(),className:"px-6 py-2.5 rounded-lg bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white text-sm font-bold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none transition-all whitespace-nowrap",children:r?"Analyzing...":"Analyze"})]})})]})}},5775:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=l(7043);l(7437),l(2265);let i=a._(l(5602));function n(e,t){var l;let a={loading:e=>{let{error:t,isLoading:l,pastDelay:a}=e;return null}};"function"==typeof e&&(a.loader=e);let n={...a,...t};return(0,i.default)({...n,modules:null==(l=n.loadableGenerated)?void 0:l.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1523:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let a=l(8993);function i(e){let{reason:t,children:l}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return l}},5602:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let a=l(7437),i=l(2265),n=l(1523),s=l(49);function r(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(r(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},l=(0,i.lazy)(()=>t.loader().then(r)),d=t.loading;function c(e){let r=d?(0,a.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(s.PreloadCss,{moduleIds:t.modules}):null,(0,a.jsx)(l,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(l,{...e})});return(0,a.jsx)(i.Suspense,{fallback:r,children:o})}return c.displayName="LoadableComponent",c}},49:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return n}});let a=l(7437),i=l(544);function n(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let l=(0,i.getExpectedRequestStore)("next/dynamic css"),n=[];if(l.reactLoadableManifest&&t){let e=l.reactLoadableManifest;for(let l of t){if(!e[l])continue;let t=e[l].files.filter(e=>e.endsWith(".css"));n.push(...t)}}return 0===n.length?null:(0,a.jsx)(a.Fragment,{children:n.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:l.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[892,971,117,744],function(){return e(e.s=4430)}),_N_E=e.O()}]);